<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RE-VERSE - AI Podcast Generator</title>
    <link rel="stylesheet" href="/static/css/style.css">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Elms+Sans:ital,wght@0,100..900;1,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">

    <title>RE-VERSE - AI Podcast Generator</title>
    <link rel="stylesheet" href="/static/css/style.css">


</head>
<body>
    <div class="app-container">

        <!-- Sidebar (Glass) -->
        <aside class="sidebar glass-panel" id="sidebar">
            <div class="sidebar-header">
                <h2>üìö History</h2>
                <button class="clear-history-btn" id="clearHistoryBtn" title="Clear history">üóëÔ∏è</button>
            </div>
            <div class="history-list" id="historyList">
                <p class="empty-history">No podcasts yet</p>
            </div>
        </aside>

        <main class="main-content">

            <div class="container">
                <!-- Header -->
                <header class="header">
                    <h1>üéôÔ∏è RE-VERSE</h1>
                    <p class="tagline">Transform Documents into Engaging Podcasts with AI</p>
                </header>

                <!-- Upload Section -->
                <section class="upload-section" id="uploadSection">
                    <div class="card glass-panel">
                        <h2>Upload Your Document</h2>
                        
                        <form id="uploadForm" class="upload-form">
                        
                            <div class="form-group">
                                <label for="pdfFile" class="file-label glass-panel-inner">
                                    <span class="file-icon">üìÑ</span>
                                    <span id="fileName">Choose PDF file (max 50MB)</span>
                                    <input type="file" id="pdfFile" name="file" accept=".pdf" required>
                                </label>
                            </div>

                            <div class="form-group">
                                <label for="prompt">Content Focus</label>
                                <textarea 
                                    id="prompt" 
                                    name="prompt" 
                                    rows="4"
                                    placeholder="What aspects should the podcast focus on?"
                                    minlength="10"
                                    maxlength="2000"
                                    required
                                ></textarea>
                                <span class="char-count">0 / 2000</span>
                            </div>

                            <div class="form-group">
                                <label for="style">Conversation Style</label>
                                <select id="style" name="style" required>
                                    <option value="Student-Professor">üë®‚Äçüéì Student-Professor</option>
                                    <option value="Critique">üîç Critique</option>
                                    <option value="Debate">‚öñÔ∏è Debate</option>
                                    <option value="Interview">üé§ Interview</option>
                                    <option value="Casual-Explainer">üí¨ Casual Explainer</option>
                                    <option value="Storytelling">üìñ Storytelling</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="duration">Audio Length</label>
                                <select id="duration" name="duration" required>
                                    <option value="SHORTER">‚ö° Shorter (~3-5 min)</option>
                                    <option value="MEDIUM" selected>üéØ Medium (~5-8 min)</option>
                                    <option value="LONGER">üìö Longer (~8-12 min)</option>
                                </select>
                            </div>

                            <button type="submit" class="btn-primary">
                                <span>Generate Podcast</span>
                            </button>
                        </form>
                    </div>
                </section>

                <!-- Progress -->
                <section class="progress-section" id="progressSection" style="display: none;">
                    <div class="card glass-panel">
                        <h2>Generating Your Podcast...</h2>
                        
                        <div class="progress-container">
                            <div class="progress-bar glass-panel-inner">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <p class="progress-text" id="progressText">Initializing...</p>
                        </div>

                        <div class="status-steps">
                            <div class="step glass-panel-inner" id="step1">
                                <span class="step-icon">üìÑ</span>
                                <span class="step-text">Extracting text</span>
                            </div>
                            <div class="step glass-panel-inner" id="step2">
                                <span class="step-icon">ü§ñ</span>
                                <span class="step-text">Generating script</span>
                            </div>
                            <div class="step glass-panel-inner" id="step3">
                                <span class="step-icon">üéôÔ∏è</span>
                                <span class="step-text">Creating audio</span>
                            </div>
                            <div class="step glass-panel-inner" id="step4">
                                <span class="step-icon">‚òÅÔ∏è</span>
                                <span class="step-text">Uploading</span>
                            </div>
                        </div>

                        <p class="job-id-display">Job ID: <code id="jobIdDisplay"></code></p>
                    </div>
                </section>

                <!-- Result -->
                <section class="result-section" id="resultSection" style="display: none;">
                    <div class="card glass-panel">
                        <h2>‚úÖ Your Podcast is Ready!</h2>
                        
                        <div class="audio-player">
                            <audio id="audioPlayer" controls></audio>
                        </div>

                        <a id="downloadBtn" class="btn-secondary" download="podcast.mp3">
                            <span>‚¨áÔ∏è Download MP3</span>
                        </a>

                        <div class="metadata glass-panel-inner">
                            <p><strong>File:</strong> <span id="resultFilename"></span></p>
                            <p><strong>Style:</strong> <span id="resultStyle"></span></p>
                            <p><strong>Duration:</strong> <span id="resultDuration"></span></p>
                            <p><strong>Created:</strong> <span id="resultCreated"></span></p>
                        </div>

                        <button class="btn-primary" onclick="resetForm()">
                            Generate Another Podcast
                        </button>
                    </div>
                </section>

                <!-- Error -->
                <section class="error-section" id="errorSection" style="display: none;">
                    <div class="card error-card glass-panel">
                        <h2>‚ùå Generation Failed</h2>
                        <p class="error-message" id="errorMessage"></p>
                        <button class="btn-primary" onclick="resetForm()">Try Again</button>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="footer">
                    <p>Powered by Gemini AI | RE-VERSE v1.0</p>
                </footer>

            </div>
        </main>
    </div>

    
    <script src="/static/js/app.js"></script>
</body>
</html>
